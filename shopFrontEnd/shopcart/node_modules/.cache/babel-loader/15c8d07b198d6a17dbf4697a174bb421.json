{"remainingRequest":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/babel-loader/lib/index.js!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/payment/order/order.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/payment/order/order.vue","mtime":1656091796431},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/babel.config.js","mtime":1650971271303},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js","mtime":1650971228569},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/babel-loader/lib/index.js","mtime":1650971231053},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js","mtime":1650971228569},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/vue-loader-v16/dist/index.js","mtime":1650971226130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGVtaXR0ZXIgZnJvbSAnQC91dGlscy9ldmVudCc7CmltcG9ydCB7IEVsTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnb3JkZXInLAogIHByb3BzOiBbJ3ByaWNlX2luZm8nXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5kZXg6IDAsCiAgICAgIGFkZHJlc3NfaW5mbzogJycsCiAgICAgIG51bWJlcjogMSwKICAgICAgcHJpY2U6ICcnLAogICAgICBhbGxfcHJpY2U6IDAsCiAgICAgIHNob3BfY2FydDogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDnoa7orqTmj5DkuqTorqLljZUKICAgIHN1cmVPcmRlcjogZnVuY3Rpb24gc3VyZU9yZGVyKCkgewogICAgICAvLyDmnInotK3nialpZAogICAgICBpZiAodGhpcy5wcmljZV9pbmZvWzBdLmNvbnRleHRbMF0uc2hvcF9jYXJ0KSB7CiAgICAgICAgdmFyIGlkbGlzdCA9ICcnOwogICAgICAgIHZhciBudW1saXN0ID0gJyc7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcmljZV9pbmZvLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMucHJpY2VfaW5mb1tpXS5jb250ZXh0Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMucHJpY2VfaW5mb1tpXS5jb250ZXh0W2pdLnNob3BfY2FydDsKICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMucHJpY2VfaW5mb1tpXS5jb250ZXh0W2pdLm51bTsKICAgICAgICAgICAgaWRsaXN0ICs9IGlkICsgJy4nOwogICAgICAgICAgICBudW1saXN0ICs9IG51bSArICcuJzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlkbGlzdCA9IGlkbGlzdC5zdWJzdHIoMCwgaWRsaXN0Lmxlbmd0aCAtIDEpOwogICAgICAgIG51bWxpc3QgPSBudW1saXN0LnN1YnN0cigwLCBudW1saXN0Lmxlbmd0aCAtIDEpOwogICAgICAgIHRoaXMuc3VyZU9yZGVyRW5jYXBzdWxhdGlvbihpZGxpc3QsIG51bWxpc3QsIDEpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOaXoOi0reeJqWlkCiAgICAgICAgdmFyIHByaWNlSWQgPSB0aGlzLnByaWNlX2luZm9bMF0uY29udGV4dFswXS5pZDsKICAgICAgICB2YXIgX251bSA9IHRoaXMubnVtYmVyOwogICAgICAgIHRoaXMuc3VyZU9yZGVyRW5jYXBzdWxhdGlvbihwcmljZUlkLCBfbnVtLCAwKTsKICAgICAgfQogICAgfSwKICAgIHN1cmVPcmRlckVuY2Fwc3VsYXRpb246IGZ1bmN0aW9uIHN1cmVPcmRlckVuY2Fwc3VsYXRpb24oaWQsIG51bSwgdHlwZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cHMucG9zdCgncGF5bWVudC9zdXJlT3JkZXIvJywgewogICAgICAgIHJlY2VpdmluZ0lkOiB0aGlzLmFkZHJlc3NfaW5mb1t0aGlzLmluZGV4XS5pZCwKICAgICAgICAvLyDmlLbotKflnLDlnYBpZAogICAgICAgIGlkOiBpZCwKICAgICAgICAvLyDku7fmoLxpZAogICAgICAgIG51bTogbnVtLAogICAgICAgIC8vIOaVsOmHjwogICAgICAgIHR5cGU6IHR5cGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgRWxNZXNzYWdlQm94LmNvbmZpcm0oJ+i0puWPt++8mmh2aXRxdTE4NDNAc2FuZGJveC5jb20gIOeZu+W9leWvhuegge+8mjExMTExMSAg5pSv5LuY5a+G56CB77yaMTExMTExJywgJ+aymeeuseaUr+S7mCcsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfmspnnrrHmlK/ku5gnLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5LyY6LSt5pSv5LuYJywKICAgICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g5rKZ566x5pSv5LuYCiAgICAgICAgICAgIF90aGlzLlNhbmRib3hQYXltZW50KHJlcy5kYXRhLmRhdGEuaWQpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIHBhdGg6ICcvc3VyZS9wYXltZW50JywKICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLmRhdGEuaWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgbWVzc2FnZTogJ+WcqOS4quS6uuS4u+mhteS4reivpeexu+WVhuWTgeWwmuacquS7mOasvicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGN1dDogZnVuY3Rpb24gY3V0KCkgewogICAgICBpZiAodGhpcy5udW1iZXIgPiAxKSB7CiAgICAgICAgdGhpcy5udW1iZXItLTsKICAgICAgfQogICAgfSwKICAgIFNhbmRib3hQYXltZW50OiBmdW5jdGlvbiBTYW5kYm94UGF5bWVudChpZCkgewogICAgICB0aGlzLiRodHRwcy5wb3N0KCdwYXltZW50L3NhbmRib3hfcGF5bWVudC8nLCB7CiAgICAgICAgaWQ6IFN0cmluZyhpZCkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZHVjdGlvbjogZnVuY3Rpb24gcmVkdWN0aW9uKGluZGV4LCBpKSB7CiAgICAgIHZhciBudW0gPSB0aGlzLnByaWNlX2luZm9bcGFyc2VJbnQoaW5kZXgpXS5jb250ZXh0W3BhcnNlSW50KGkpXS5udW07CgogICAgICBpZiAobnVtID4gMSkgewogICAgICAgIHRoaXMuJGVtaXQoJ1F1YW50aXR5UmVkdWN0aW9uJywgewogICAgICAgICAgaW5kZXg6IGluZGV4LAogICAgICAgICAgaTogaQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc3VyZUNoYW5nZTogZnVuY3Rpb24gc3VyZUNoYW5nZSgpIHsKICAgICAgaWYgKCF0aGlzLm51bWJlcikgewogICAgICAgIHRoaXMubnVtYmVyID0gMTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG51bWJlcjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIGlmIChuZXdWYWx1ZSkgewogICAgICAgICAgdGhpcy5wcmljZSA9IG5ld1ZhbHVlICogdGhpcy5wcmljZV9pbmZvWzBdLmNvbnRleHRbMF0ucHJpY2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcHJpY2VfaW5mbzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIHRoaXMuYWxsX3ByaWNlID0gMDsKCiAgICAgICAgaWYgKG5ld1ZhbHVlKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3VmFsdWVbaV0uY29udGV4dC5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIHZhciBudW0gPSBuZXdWYWx1ZVtpXS5jb250ZXh0W2pdLm51bTsKICAgICAgICAgICAgICB2YXIgcHJpY2UgPSBuZXdWYWx1ZVtpXS5jb250ZXh0W2pdLnByaWNlOwogICAgICAgICAgICAgIHRoaXMuYWxsX3ByaWNlICs9IHBhcnNlSW50KG51bSkgKiBwYXJzZUludChwcmljZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBpZiAodHlwZW9mIHRoaXMuJHJvdXRlLnF1ZXJ5Lm51bSAhPT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5udW1iZXIgPSB0aGlzLiRyb3V0ZS5xdWVyeS5udW07CiAgICB9CgogICAgZW1pdHRlci5vbignZm9vJywgZnVuY3Rpb24gKGUpIHsKICAgICAgX3RoaXMyLmluZGV4ID0gZS5haW07CiAgICB9KTsKICAgIGVtaXR0ZXIub24oJ2FkZHJlc3MnLCBmdW5jdGlvbiAoZSkgewogICAgICBfdGhpczIuYWRkcmVzc19pbmZvID0gZS5haW07CiAgICB9KTsKICB9Cn07"},{"version":3,"mappings":"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","names":["emitter","ElMessageBox","name","props","data","index","address_info","number","price","all_price","shop_cart","methods","sureOrder","price_info","context","idlist","numlist","i","length","j","id","num","substr","sureOrderEncapsulation","priceId","type","$https","post","receivingId","then","res","code","confirm","confirmButtonText","cancelButtonText","SandboxPayment","catch","$router","push","path","query","$message","message","console","log","err","cut","String","window","location","href","reduction","parseInt","$emit","sureChange","watch","handler","newValue","oldValue","deep","mounted","$route","on","e","aim"],"sourceRoot":"","sources":["/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/payment/order/order.vue"],"sourcesContent":["<template>\n<aside class=\"order-news\">\n        <h6>确认订单信息</h6>\n        <div class=\"order-container\">\n            <ul class=\"item-headers-wrap\">\n                <li class=\"item-headers-0\">店铺宝贝</li>\n                <li class=\"item-headers-1\">商品属性</li>\n                <li class=\"item-headers-2\">单价</li>\n                <li class=\"item-headers-3\">数量</li>\n                <li class=\"item-headers-4\">优惠方式</li>\n                <li class=\"item-headers-5\">小计</li>\n            </ul>\n            <ul style=\"margin: 0;padding: 0;\">\n              <li v-for=\"(item,index) in price_info\" :key=\"index\">\n                <div class=\"order-title\">\n                    店铺：{{item?.shop}}\n                </div>\n                <div class=\"content-container\" v-for=\"(value,h) in item.context\" :key=\"value.id\">\n                    <ul class=\"info-detail\">\n                        <li class=\"item-headers-0 shop-info\">\n                            <img :src=\"value.goods_image\" alt=\"\" style=\"width: 50px;\"/>\n                            <div class=\"support\">\n                                <span>{{value.title}}</span>\n                                <div>\n                                    <img src=\"@/assets/verygoods/seven.png\" alt=\"\" />\n                                    <img src=\"@/assets/verygoods/guarantee.png\" alt=\"\" />\n                                    <img src=\"@/assets/verygoods/xcard.png\" alt=\"\" />\n                                </div>\n                            </div>\n                        </li>\n                        <li class=\"item-headers-1 shop-opt\">\n                          <!--<span>肉类产品【量真多，太实惠】混合80包（香辣40包+蜜汁40包）</span>\n                          <span>口味:原味</span>-->\n                          <span v-for=\"opt in value.opts\" :key=\"opt.id\">{{opt.type}}：{{opt.content}}</span>\n                          <span v-if=\"!value.opts\">无</span>\n                          <span v-if=\"value.opts?.length<1\">无</span>\n                        </li>\n                        <li class=\"item-headers-2 price\">\n                            {{value.price}}.00\n                        </li>\n                        <li class=\"item-headers-3 shop-number\" v-if=\"value.num\">\n                          <button class=\"iconfont\" @click=\"value.num++\">&#xe654;</button>\n                          <input v-model=\"value.num\"\n                                   type=\"number\"\n                                   autocomplete=\"off\"\n                                   @blur=\"sureChange\"\n                                   onkeypress=\"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))\"\n                                   style=\"ime-mode:Disabled\">\n                          <button class=\"iconfont\" @click=\"reduction(index, h)\">&#xe656;</button>\n                        </li>\n                        <li class=\"item-headers-3 shop-number\" v-else>\n                            <button class=\"iconfont\" @click=\"number++\">&#xe654;</button>\n                            <input v-model=\"number\"\n                                   type=\"number\"\n                                   autocomplete=\"off\"\n                                   @blur=\"sureChange\"\n                                   onkeypress=\"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))\"\n                                   style=\"ime-mode:Disabled\">\n                            <button class=\"iconfont\" @click=\"cut\">&#xe656;</button>\n                        </li>\n                        <li class=\"item-headers-4 discount\">\n                            省77:全名疯抢\n                        </li>\n                        <li class=\"item-headers-5 total\" v-if=\"value.num\">{{value.price*value.num}}.00</li>\n                        <li class=\"item-headers-5 total\" v-else>\n                          {{value.price*number}}.00\n                        </li>\n                    </ul>\n                </div>\n              </li>\n            </ul>\n            <div class=\"sure-order-container\">\n              <div id=\"check-out\">\n                <div class=\"actual-payment\">\n                    <span class=\"check-out-title\">实付款：</span>\n                    <span v-if=\"all_price\"><i>¥</i>{{all_price}}.00</span>\n                    <span v-else-if=\"price\"><i>¥</i>{{price}}.00</span>\n                    <span v-else><i>¥</i>{{price_info[0]?.context[0]?.price}}.00</span>\n                </div>\n                <div class=\"send-to\">\n                    <span class=\"check-out-title\">寄送至：</span>\n                    <span v-for=\"item in address_info[index]?.city_address\">{{item[0]}}</span>\n                    <span>{{address_info[index]?.detailed_address}}</span>\n                </div>\n                <div class=\"consignee\">\n                    <span class=\"check-out-title\">收货人：</span>\n                    <span>{{address_info[index]?.name}}</span>\n                    <span>{{address_info[index]?.phone}}</span>\n                </div>\n              </div>\n              <div class=\"submit\" @click=\"sureOrder\">提交订单</div>\n            </div>\n        </div>\n    </aside>\n</template>\n\n<script>\nimport emitter from '@/utils/event'\nimport { ElMessageBox } from 'element-plus'\nexport default {\n  name: 'order',\n  props: ['price_info'],\n  data () {\n    return {\n      index: 0,\n      address_info: '',\n      number: 1,\n      price: '',\n      all_price: 0,\n      shop_cart: ''\n    }\n  },\n  methods: {\n    // 确认提交订单\n    sureOrder () {\n      // 有购物id\n      if (this.price_info[0].context[0].shop_cart) {\n        let idlist = ''\n        let numlist = ''\n        for (let i = 0; i < this.price_info.length; i++) {\n          for (let j = 0; j < this.price_info[i].context.length; j++) {\n            let id = this.price_info[i].context[j].shop_cart\n            let num = this.price_info[i].context[j].num\n            idlist += id + '.'\n            numlist += num + '.'\n          }\n        }\n        idlist = idlist.substr(0, idlist.length - 1)\n        numlist = numlist.substr(0, numlist.length - 1)\n        this.sureOrderEncapsulation(idlist, numlist, 1)\n      } else { // 无购物id\n        let priceId = this.price_info[0].context[0].id\n        let num = this.number\n        this.sureOrderEncapsulation(priceId, num, 0)\n      }\n    },\n    sureOrderEncapsulation (id, num, type) {\n      this.$https.post('payment/sureOrder/', {\n        receivingId: this.address_info[this.index].id, // 收货地址id\n        id: id, // 价格id\n        num: num, // 数量\n        type: type\n      }).then(res => {\n        if (res.data.code === 200) {\n          ElMessageBox.confirm(\n            '账号：hvitqu1843@sandbox.com  登录密码：111111  支付密码：111111',\n            '沙箱支付',\n            {\n              confirmButtonText: '沙箱支付',\n              cancelButtonText: '优购支付',\n              type: 'info'\n            }\n          ).then(() => {\n            // 沙箱支付\n            this.SandboxPayment(res.data.data.id)\n          })\n            .catch(() => {\n              this.$router.push({\n                path: '/sure/payment',\n                query: {\n                  id: res.data.data.id\n                }\n              })\n            })\n        } else {\n          this.$message({\n            type: 'error',\n            message: '在个人主页中该类商品尚未付款'\n          })\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    cut () {\n      if (this.number > 1) {\n        this.number--\n      }\n    },\n    SandboxPayment (id) {\n      this.$https.post('payment/sandbox_payment/', { id: String(id) }).then(res => {\n        if (res.data.code === 200) {\n          window.location.href = res.data.data\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    reduction (index, i) {\n      let num = this.price_info[parseInt(index)].context[parseInt(i)].num\n      if (num > 1) {\n        this.$emit('QuantityReduction', { index, i })\n      }\n    },\n    sureChange () {\n      if (!this.number) {\n        this.number = 1\n      }\n    }\n  },\n  watch: {\n    number: {\n      handler (newValue, oldValue) {\n        if (newValue) {\n          this.price = newValue * this.price_info[0].context[0].price\n        }\n      }\n    },\n    price_info: {\n      handler (newValue, oldValue) {\n        this.all_price = 0\n        if (newValue) {\n          for (let i = 0; i < newValue.length; i++) {\n            for (let j = 0; j < newValue[i].context.length; j++) {\n              let num = newValue[i].context[j].num\n              let price = newValue[i].context[j].price\n              this.all_price += parseInt(num) * parseInt(price)\n            }\n          }\n        }\n      },\n      deep: true\n    }\n  },\n  mounted () {\n    if (typeof this.$route.query.num !== 'string') {\n      this.number = this.$route.query.num\n    }\n    emitter.on('foo', (e) => {\n      this.index = e.aim\n    })\n    emitter.on('address', (e) => {\n      this.address_info = e.aim\n    })\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.order-news {\n  width: 990px;\n  margin: 25px auto 0;\n  h6 {\n    color: #333;\n    font-size: 14px;\n    font-weight: 700;\n    margin-bottom: 7px;\n  }\n}\n.item-headers-wrap {\n  width: 990px;\n  display: flex;\n  margin: 0;\n  padding: 0;\n  justify-content: space-between;\n  li {\n    text-align: center;\n    border-bottom: 2px solid #B2D1FF;\n  }\n}\n.item-headers-0 {\n  width: 255px;\n}\n.item-headers-1 {\n  width: 180px;\n}\n.item-headers-2 {\n  width: 120px;\n  text-align: center;\n}\n.item-headers-3 {\n  width: 120px;\n  text-align: center;\n}\n.item-headers-4 {\n  width: 180px;\n  text-align: center;\n}\n.item-headers-5 {\n  width:  130px;\n  text-align: center;\n  overflow: hidden;\n}\n.order-title {\n  border-bottom: 1px dotted #B2D1FF;\n  margin-top: 25px;\n  color: #3c3c3c;\n}\n.info-detail {\n  width: 990px;\n  display: flex;\n  margin: 0;\n  height: 80px;\n  border-bottom: 1px dotted #DDDDDD;\n  padding: 7px 0 0;\n  align-items: flex-start;\n  justify-content: space-between;\n  background-color: #FBFCFF;\n}\n.support {\n  display: inline-block;\n  margin-left: 10px;\n  span {\n    width: 180px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    display: inline-block;\n  }\n  div {\n    img {\n      margin-right: 7px;\n    }\n  }\n}\n.shop-number {\n  display: flex;\n  align-items: center;\n  padding: 10px 0;\n  justify-content: center;\n  button {\n    border: 1px solid #e6e7eb;\n    background-color: #f7f8fa;\n    font-size: 16px;\n    width: 34px;\n    height: 26px;\n  }\n  input {\n    width: 34px;\n    height: 26px;\n    text-align: center;\n    color: #333;\n    outline:none;\n    border: 1px solid #C4C6CF;\n    border-radius: 1px;\n    margin: 0 2px;\n  }\n}\n.total {\n  font-weight: bold;\n  color: rgb(255, 0, 54);\n  font-size: 14px;\n  text-align: right;\n  padding: 10px 0;\n}\n.shop-info {\n  display: flex;\n  text-align: left;\n  padding: 10px 0 10px 10px;\n}\n.shop-opt {\n  padding: 10px 0;\n  overflow: hidden;\n  text-align: center;\n  span {\n    padding-right: 10px;\n  }\n}\n.price {\n  padding: 10px 0;\n}\n.discount {\n  padding: 10px 0;\n}\n.content-container {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n.sure-order-container {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n#check-out {\n  height: 123px;\n  border: 1px solid red;\n  margin-top: 25px;\n  text-align: right;\n  padding: 10px 5px 10px 20px;\n}\n.check-out-title{\n  color: #333;\n  font-weight: bold;\n}\n.actual-payment span:last-child{\n  color: rgb(255, 0, 54);\n  font: 700 26px tahoma;\n}\n.actual-payment span:last-child i {\n  margin-right: 4px;\n  color: #999;\n  font-size: 26px;\n  font-style: normal;\n  font-family: verdana,serif;\n}\n.send-to {\n  margin-top: 7px;\n  span {\n    margin-right: 3px;\n  }\n}\n.consignee {\n  span {\n    margin-right: 3px;\n  }\n}\n.submit {\n  width: 182px;\n  height: 39px;\n  color: #fff;\n  background-color: rgb(255, 0, 54);\n  text-align: center;\n  line-height: 39px;\n  font-size: 14px;\n  font-weight: 700;\n  cursor: pointer;\n}\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n}\n\ninput[type=\"number\"] {\n    -moz-appearance: textfield;\n}\n</style>\n"]}]}