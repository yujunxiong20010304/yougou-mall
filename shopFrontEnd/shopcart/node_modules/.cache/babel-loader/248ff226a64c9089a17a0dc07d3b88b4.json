{"remainingRequest":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/babel-loader/lib/index.js!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/payment/order/order.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/payment/order/order.vue","mtime":1652853047090},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/babel.config.js","mtime":1650971271303},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js","mtime":1650971228569},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/babel-loader/lib/index.js","mtime":1650971231053},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js","mtime":1650971228569},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/vue-loader-v16/dist/index.js","mtime":1650971226130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGVtaXR0ZXIgZnJvbSAnQC91dGlscy9ldmVudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnb3JkZXInLAogIHByb3BzOiBbJ3ByaWNlX2luZm8nLCAnb3B0X2luZm8nXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5kZXg6IDAsCiAgICAgIGFkZHJlc3NfaW5mbzogJycsCiAgICAgIG51bWJlcjogMSwKICAgICAgcHJpY2U6ICcnLAogICAgICBzaG9wX2NhcnQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g56Gu6K6k5o+Q5Lqk6K6i5Y2VCiAgICBzdXJlT3JkZXI6IGZ1bmN0aW9uIHN1cmVPcmRlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHBzLnBvc3QoJ3BheW1lbnQvc3VyZU9yZGVyLycsIHsKICAgICAgICByZWNlaXZpbmdJZDogdGhpcy5hZGRyZXNzX2luZm9bdGhpcy5pbmRleF0uaWQsCiAgICAgICAgcHJpY2VJZDogdGhpcy5wcmljZV9pbmZvLmlkLAogICAgICAgIG51bWJlcjogdGhpcy5udW1iZXIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgLy8g6Lez6L2s5LiN5omT5byA5paw6aG16Z2iCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL3N1cmUvcGF5bWVudCcsCiAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLmRhdGEuaWQKICAgICAgICAgICAgfQogICAgICAgICAgfSk7IC8vIOi3s+i9rOaJk+W8gOaWsOmhtemdogoKICAgICAgICAgIC8qIGNvbnN0IG5ld3BhZ2UgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICAgIHBhdGg6ICcvc3VyZS9wYXltZW50JywKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICBpZDogcmVzLmRhdGEuZGF0YS5pZAogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgd2luZG93Lm9wZW4obmV3cGFnZS5ocmVmLCAnX2JsYW5rJykgKi8KCiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgY3V0OiBmdW5jdGlvbiBjdXQoKSB7CiAgICAgIGlmICh0aGlzLm51bWJlciA+IDEpIHsKICAgICAgICB0aGlzLm51bWJlci0tOwogICAgICB9CiAgICB9LAogICAgc3VyZUNoYW5nZTogZnVuY3Rpb24gc3VyZUNoYW5nZSgpIHsKICAgICAgaWYgKCF0aGlzLm51bWJlcikgewogICAgICAgIHRoaXMubnVtYmVyID0gMTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG51bWJlcjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIGlmIChuZXdWYWx1ZSkgewogICAgICAgICAgdGhpcy5wcmljZSA9IG5ld1ZhbHVlICogdGhpcy5wcmljZV9pbmZvLnByaWNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMubnVtYmVyID0gdGhpcy4kcm91dGUucXVlcnkubnVtOwogICAgZW1pdHRlci5vbignZm9vJywgZnVuY3Rpb24gKGUpIHsKICAgICAgX3RoaXMyLmluZGV4ID0gZS5haW07CiAgICB9KTsKICAgIGVtaXR0ZXIub24oJ2FkZHJlc3MnLCBmdW5jdGlvbiAoZSkgewogICAgICBfdGhpczIuYWRkcmVzc19pbmZvID0gZS5haW07CiAgICB9KTsKICB9Cn07"},{"version":3,"mappings":"AAyEA,OAAOA,OAAP,MAAoB,eAApB;AACA,eAAe;AACbC,MAAI,EAAE,OADO;AAEbC,OAAK,EAAE,CAAC,YAAD,EAAe,UAAf,CAFM;AAGbC,MAHa,kBAGL;AACN,WAAO;AACLC,WAAK,EAAE,CADF;AAELC,kBAAY,EAAE,EAFT;AAGLC,YAAM,EAAE,CAHH;AAILC,WAAK,EAAE,EAJF;AAKLC,eAAS,EAAE;AALN,KAAP;AAOD,GAXY;AAYbC,SAAO,EAAE;AACP;AACAC,aAFO,uBAEM;AAAA;;AACX,WAAKC,MAAL,CAAYC,IAAZ,CAAiB,oBAAjB,EAAuC;AACrCC,mBAAW,EAAE,KAAKR,YAAL,CAAkB,KAAKD,KAAvB,EAA8BU,EADN;AAErCC,eAAO,EAAE,KAAKC,UAAL,CAAgBF,EAFY;AAGrCR,cAAM,EAAE,KAAKA;AAHwB,OAAvC,EAIGW,IAJH,CAIQ,aAAE,EAAK;AACb,YAAIC,GAAG,CAACf,IAAJ,CAASgB,IAAT,KAAkB,GAAtB,EAA2B;AACzB;AACA,eAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB;AAChBC,gBAAI,EAAE,eADU;AAEhBC,iBAAK,EAAE;AACLT,gBAAE,EAAEI,GAAG,CAACf,IAAJ,CAASA,IAAT,CAAcW;AADb;AAFS,WAAlB,EAFyB,CAQzB;;AACA;;;;;;;;AAOF;AACD,OAtBD,EAsBGU,KAtBH,CAsBS,aAAE,EAAK;AACdC,eAAO,CAACC,GAAR,CAAYC,GAAZ;AACD,OAxBD;AAyBD,KA5BM;AA6BPC,OA7BO,iBA6BA;AACL,UAAI,KAAKtB,MAAL,GAAc,CAAlB,EAAqB;AACnB,aAAKA,MAAL;AACF;AACD,KAjCM;AAkCPuB,cAlCO,wBAkCO;AACZ,UAAI,CAAC,KAAKvB,MAAV,EAAkB;AAChB,aAAKA,MAAL,GAAc,CAAd;AACF;AACF;AAtCO,GAZI;AAoDbwB,OAAK,EAAE;AACLxB,UAAM,EAAE;AACNyB,aADM,mBACGC,QADH,EACaC,QADb,EACuB;AAC3B,YAAID,QAAJ,EAAc;AACZ,eAAKzB,KAAL,GAAayB,QAAO,GAAI,KAAKhB,UAAL,CAAgBT,KAAxC;AACF;AACF;AALM;AADH,GApDM;AA6Db2B,SA7Da,qBA6DF;AAAA;;AACT,SAAK5B,MAAL,GAAc,KAAK6B,MAAL,CAAYZ,KAAZ,CAAkBa,GAAhC;AACApC,WAAO,CAACqC,EAAR,CAAW,KAAX,EAAkB,UAACC,CAAD,EAAO;AACvB,YAAI,CAAClC,KAAL,GAAakC,CAAC,CAACC,GAAf;AACD,KAFD;AAGAvC,WAAO,CAACqC,EAAR,CAAW,SAAX,EAAsB,UAACC,CAAD,EAAO;AAC3B,YAAI,CAACjC,YAAL,GAAoBiC,CAAC,CAACC,GAAtB;AACD,KAFD;AAGF;AArEa,CAAf","names":["emitter","name","props","data","index","address_info","number","price","shop_cart","methods","sureOrder","$https","post","receivingId","id","priceId","price_info","then","res","code","$router","push","path","query","catch","console","log","err","cut","sureChange","watch","handler","newValue","oldValue","mounted","$route","num","on","e","aim"],"sourceRoot":"","sources":["/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/payment/order/order.vue"],"sourcesContent":["<template>\n<aside class=\"order-news\">\n        <h6>确认订单信息</h6>\n        <div class=\"order-container\">\n            <ul class=\"item-headers-wrap\">\n                <li class=\"item-headers-0\">店铺宝贝</li>\n                <li class=\"item-headers-1\">商品属性</li>\n                <li class=\"item-headers-2\">单价</li>\n                <li class=\"item-headers-3\">数量</li>\n                <li class=\"item-headers-4\">优惠方式</li>\n                <li class=\"item-headers-5\">小计</li>\n            </ul>\n            <div class=\"order-title\">\n                店铺：{{price_info?.goods_id__store}}\n            </div>\n            <div class=\"content-container\">\n                <ul class=\"info-detail\">\n                    <li class=\"item-headers-0 shop-info\">\n                        <img :src=\"price_info.goods_id__goods_image\" alt=\"\" style=\"width: 50px;\"/>\n                        <div class=\"support\">\n                            <span>{{price_info.goods_id__title}}</span>\n                            <div>\n                                <img src=\"@/assets/verygoods/seven.png\" alt=\"\" />\n                                <img src=\"@/assets/verygoods/guarantee.png\" alt=\"\" />\n                                <img src=\"@/assets/verygoods/xcard.png\" alt=\"\" />\n                            </div>\n                        </div>\n                    </li>\n                    <li class=\"item-headers-1 shop-opt\">\n                      <!--<span>肉类产品【量真多，太实惠】混合80包（香辣40包+蜜汁40包）</span>\n                      <span>口味:原味</span>-->\n                      <span v-for=\"item in opt_info\" :key=\"item.id\">{{item.content}}</span>\n                    </li>\n                    <li class=\"item-headers-2 price\">\n                        {{price_info.price}}.00\n                    </li>\n                    <li class=\"item-headers-3 shop-number\">\n                        <button class=\"iconfont\" @click=\"number++\">&#xe654;</button>\n                        <input v-model=\"number\" type=\"number\" autocomplete=\"off\" @blur=\"sureChange\" onkeypress=\"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))\" style=\"ime-mode:Disabled\">\n                        <button class=\"iconfont\" @click=\"cut\">&#xe656;</button>\n                    </li>\n                    <li class=\"item-headers-4 discount\">\n                        省77:全名疯抢\n                    </li>\n                    <li class=\"item-headers-5 total\" v-if=\"price\">{{price}}.00</li>\n                    <li class=\"item-headers-5 total\" v-else>\n                      {{price_info.price}}.00\n                    </li>\n                </ul>\n                <div id=\"check-out\">\n                    <div class=\"actual-payment\">\n                        <span class=\"check-out-title\">实付款：</span>\n                        <span v-if=\"price\"><i>¥</i>{{price}}.00</span>\n                        <span v-else><i>¥</i>{{price_info?.price}}.00</span>\n                    </div>\n                    <div class=\"send-to\">\n                        <span class=\"check-out-title\">寄送至：</span>\n                        <span v-for=\"item in address_info[index]?.city_address\">{{item[0]}}</span>\n                        <span>{{address_info[index]?.detailed_address}}</span>\n                    </div>\n                    <div class=\"consignee\">\n                        <span class=\"check-out-title\">收货人：</span>\n                        <span>{{address_info[index]?.name}}</span>\n                        <span>{{address_info[index]?.phone}}</span>\n                    </div>\n                </div>\n                <div class=\"submit\" @click=\"sureOrder\">提交订单</div>\n            </div>\n        </div>\n    </aside>\n</template>\n\n<script>\nimport emitter from '@/utils/event'\nexport default {\n  name: 'order',\n  props: ['price_info', 'opt_info'],\n  data () {\n    return {\n      index: 0,\n      address_info: '',\n      number: 1,\n      price: '',\n      shop_cart: ''\n    }\n  },\n  methods: {\n    // 确认提交订单\n    sureOrder () {\n      this.$https.post('payment/sureOrder/', {\n        receivingId: this.address_info[this.index].id,\n        priceId: this.price_info.id,\n        number: this.number\n      }).then(res => {\n        if (res.data.code === 200) {\n          // 跳转不打开新页面\n          this.$router.push({\n            path: '/sure/payment',\n            query: {\n              id: res.data.data.id\n            }\n          })\n          // 跳转打开新页面\n          /* const newpage = this.$router.resolve({\n            path: '/sure/payment',\n            query: {\n              id: res.data.data.id\n            }\n          })\n          window.open(newpage.href, '_blank') */\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    cut () {\n      if (this.number > 1) {\n        this.number--\n      }\n    },\n    sureChange () {\n      if (!this.number) {\n        this.number = 1\n      }\n    }\n  },\n  watch: {\n    number: {\n      handler (newValue, oldValue) {\n        if (newValue) {\n          this.price = newValue * this.price_info.price\n        }\n      }\n    }\n  },\n  mounted () {\n    this.number = this.$route.query.num\n    emitter.on('foo', (e) => {\n      this.index = e.aim\n    })\n    emitter.on('address', (e) => {\n      this.address_info = e.aim\n    })\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.order-news {\n  width: 990px;\n  margin: 25px auto 0;\n  h6 {\n    color: #333;\n    font-size: 14px;\n    font-weight: 700;\n    margin-bottom: 7px;\n  }\n}\n.item-headers-wrap {\n  width: 990px;\n  display: flex;\n  margin: 0;\n  padding: 0;\n  justify-content: space-between;\n  li {\n    text-align: center;\n    border-bottom: 2px solid #B2D1FF;\n  }\n}\n.item-headers-0 {\n  width: 255px;\n}\n.item-headers-1 {\n  width: 180px;\n}\n.item-headers-2 {\n  width: 120px;\n  text-align: center;\n}\n.item-headers-3 {\n  width: 120px;\n  text-align: center;\n}\n.item-headers-4 {\n  width: 180px;\n  text-align: center;\n}\n.item-headers-5 {\n  width:  130px;\n  text-align: center;\n  overflow: hidden;\n}\n.order-title {\n  border-bottom: 1px dotted #B2D1FF;\n  margin-top: 25px;\n  color: #3c3c3c;\n}\n.info-detail {\n  width: 990px;\n  display: flex;\n  margin: 0;\n  height: 80px;\n  border-bottom: 1px dotted #DDDDDD;\n  padding: 7px 0 0;\n  align-items: flex-start;\n  justify-content: space-between;\n  background-color: #FBFCFF;\n}\n.support {\n  display: inline-block;\n  margin-left: 10px;\n  span {\n    width: 180px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    display: inline-block;\n  }\n  div {\n    img {\n      margin-right: 7px;\n    }\n  }\n}\n.shop-number {\n  display: flex;\n  align-items: center;\n  padding: 10px 0;\n  justify-content: center;\n  button {\n    border: 1px solid #e6e7eb;\n    background-color: #f7f8fa;\n    font-size: 16px;\n    width: 34px;\n    height: 26px;\n  }\n  input {\n    width: 34px;\n    height: 26px;\n    text-align: center;\n    color: #333;\n    outline:none;\n    border: 1px solid #C4C6CF;\n    border-radius: 1px;\n    margin: 0 2px;\n  }\n}\n.total {\n  font-weight: bold;\n  color: rgb(255, 0, 54);\n  font-size: 14px;\n  text-align: right;\n  padding: 10px 0;\n}\n.shop-info {\n  display: flex;\n  text-align: left;\n  padding: 10px 0 10px 10px;\n}\n.shop-opt {\n  padding: 10px 0;\n  overflow: hidden;\n  span {\n    padding-right: 10px;\n  }\n}\n.price {\n  padding: 10px 0;\n}\n.discount {\n  padding: 10px 0;\n}\n.content-container {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n#check-out {\n  height: 123px;\n  border: 1px solid red;\n  margin-top: 25px;\n  text-align: right;\n  padding: 10px 5px 10px 20px;\n}\n.check-out-title{\n  color: #333;\n  font-weight: bold;\n}\n.actual-payment span:last-child{\n  color: rgb(255, 0, 54);\n  font: 700 26px tahoma;\n}\n.actual-payment span:last-child i {\n  margin-right: 4px;\n  color: #999;\n  font-size: 26px;\n  font-style: normal;\n  font-family: verdana,serif;\n}\n.send-to {\n  margin-top: 7px;\n  span {\n    margin-right: 3px;\n  }\n}\n.consignee {\n  span {\n    margin-right: 3px;\n  }\n}\n.submit {\n  width: 182px;\n  height: 39px;\n  color: #fff;\n  background-color: rgb(255, 0, 54);\n  text-align: center;\n  line-height: 39px;\n  font-size: 14px;\n  font-weight: 700;\n  cursor: pointer;\n}\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n}\n\ninput[type=\"number\"] {\n    -moz-appearance: textfield;\n}\n</style>\n"]}]}