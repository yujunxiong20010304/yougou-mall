{"remainingRequest":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/babel-loader/lib/index.js!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/views/oauth/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/views/oauth/Login.vue","mtime":1651989733344},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/babel.config.js","mtime":1650971271303},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js","mtime":1650971228569},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/babel-loader/lib/index.js","mtime":1650971231053},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js","mtime":1650971228569},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/vue-loader-v16/dist/index.js","mtime":1650971226130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95dWp1bnhpb25nL0Rlc2t0b3Avc2hvcEZyb250RW5kL3Nob3BjYXJ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBFbE5vdGlmaWNhdGlvbiB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbG9naW4nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNoS2V5OiAnJywKICAgICAgLy8g5Yqg5a+G6aqM6K+B56CBCiAgICAgIGltYWdlVXJsOiAnJywKICAgICAgLy8g6aqM6K+B56CB5Zu+54mHCiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgLy8g55So5oi35ZCNCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgLy8g5a+G56CBCiAgICAgIGtleTogJycsCiAgICAgIC8vIOeUqOaIt+aPkOS6pOeahOmqjOivgeeggQogICAgICBqdWRnZTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDovpPlhaXmoYblvpfliLDlhYnmoIcKICAgIGdldEZvY3VzOiBmdW5jdGlvbiBnZXRGb2N1cyhlKSB7CiAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjNDU3Mjk0JzsKICAgIH0sCiAgICBsb3NlRm9jdXM6IGZ1bmN0aW9uIGxvc2VGb2N1cyhlKSB7CiAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjNDU3Mjk0JzsKICAgIH0sCiAgICAvLyDpqozor4HnoIEKICAgIGdldFZlcmlmaWNhdGlvbkNvZGU6IGZ1bmN0aW9uIGdldFZlcmlmaWNhdGlvbkNvZGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMkJGh0dHAkZ2UsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAuZ2V0KCdvYXV0aC9yZWZyZXNoX2NhcHRjaGEvJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkaHR0cCRnZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMkJGh0dHAkZ2UuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLmhhc2hLZXkgPSByZXMuaGFzaGtleTsKICAgICAgICAgICAgICAgIF90aGlzLmltYWdlVXJsID0gJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMCcgKyByZXMuaW1hZ2VfdXJsOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g55So5oi355m75b2VCiAgICB1c2VyTG9naW46IGZ1bmN0aW9uIHVzZXJMb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwcy5wb3N0KCdvYXV0aC9sb2dpbi8nLCB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAga2V5OiB0aGlzLmtleSwKICAgICAgICBoYXNoS2V5OiB0aGlzLmhhc2hLZXkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgIT09IDQwNCkgewogICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ21TZXRUb2tlbkluZm8nLCByZXMuZGF0YS5hY2Nlc3MpOwoKICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy9ob21lJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT09IDApIHsKICAgICAgICAgICAgRWxOb3RpZmljYXRpb24oewogICAgICAgICAgICAgIHRpdGxlOiAn55m75b2V5aSx6LSlJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5a+G56CB5LiO6LSm5Y+35LiN56ymJywKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5zdGF0dXMgPT09IDEpIHsKICAgICAgICAgICAgRWxOb3RpZmljYXRpb24oewogICAgICAgICAgICAgIHRpdGxlOiAn55m75b2V5aSx6LSlJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn6aqM6K+B56CB6ZSZ6K+vJywKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pOyAvLyDmuIXnqbrpqozor4HnoIHovpPlhaXmoI8KCiAgICAgICAgICAgIF90aGlzMi5rZXkgPSAnJzsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczIuZ2V0VmVyaWZpY2F0aW9uQ29kZSgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFZlcmlmaWNhdGlvbkNvZGUoKTsKICB9Cn07"},{"version":3,"mappings":";;AA8CA,SAASA,cAAT,QAA+B,cAA/B;AACA,eAAe;AACbC,MAAI,EAAE,OADO;AAEbC,MAFa,kBAEL;AACN,WAAO;AACLC,aAAO,EAAE,EADJ;AACQ;AACbC,cAAQ,EAAE,EAFL;AAES;AACdC,cAAQ,EAAE,EAHL;AAGS;AACdC,cAAQ,EAAE,EAJL;AAIS;AACdC,SAAG,EAAE,EALA;AAKI;AACTC,WAAK,EAAE;AANF,KAAP;AAQD,GAXY;AAYbC,SAAO,EAAE;AACP;AACAC,YAFO,oBAEGC,CAFH,EAEM;AACXA,OAAC,CAACC,MAAF,CAASC,aAAT,CAAuBC,KAAvB,CAA6BC,MAA7B,GAAsC,mBAAtC;AACD,KAJM;AAKPC,aALO,qBAKIL,CALJ,EAKO;AACZA,OAAC,CAACC,MAAF,CAASC,aAAT,CAAuBC,KAAvB,CAA6BC,MAA7B,GAAsC,mBAAtC;AACD,KAPM;AAQP;AACME,uBATC,iCASsB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACC,KAAI,CAACC,KAAL,CAAWC,GAAX,CAAe,wBAAf,CADD;;AAAA;AAAA;AACbC,mBADa,yBACnBlB,IADmB;AAE3B,qBAAI,CAACC,OAAL,GAAeiB,GAAG,CAACC,OAAnB;AACA,qBAAI,CAACjB,QAAL,GAAgB,0BAA0BgB,GAAG,CAACE,SAA9C;;AAH2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI5B,KAbM;AAcP;AACAC,aAfO,uBAeM;AAAA;;AACX,WAAKC,MAAL,CAAYC,IAAZ,CAAiB,cAAjB,EACE;AAAEpB,gBAAQ,EAAE,KAAKA,QAAjB;AAA2BC,gBAAQ,EAAE,KAAKA,QAA1C;AAAoDC,WAAG,EAAE,KAAKA,GAA9D;AAAmEJ,eAAO,EAAE,KAAKA;AAAjF,OADF,EAEGuB,IAFH,CAEQ,aAAE,EAAK;AACX,YAAIN,GAAG,CAAClB,IAAJ,CAASyB,IAAT,KAAkB,GAAtB,EAA2B;AACzB,gBAAI,CAACC,MAAL,CAAYC,MAAZ,CAAmB,eAAnB,EAAoCT,GAAG,CAAClB,IAAJ,CAAS4B,MAA7C;;AACA,gBAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,OAAlB;AACF,SAHA,MAGO;AACL,cAAIZ,GAAG,CAAClB,IAAJ,CAAS+B,MAAT,KAAoB,CAAxB,EAA2B;AACzBjC,0BAAc,CAAC;AACbkC,mBAAK,EAAE,MADM;AAEbC,qBAAO,EAAE,SAFI;AAGbC,kBAAI,EAAE,OAHO;AAIbC,sBAAQ,EAAE;AAJG,aAAD,CAAd;AAMF,WAPA,MAOO,IAAIjB,GAAG,CAAClB,IAAJ,CAAS+B,MAAT,KAAoB,CAAxB,EAA2B;AAChCjC,0BAAc,CAAC;AACbkC,mBAAK,EAAE,MADM;AAEbC,qBAAO,EAAE,OAFI;AAGbC,kBAAI,EAAE,OAHO;AAIbC,sBAAQ,EAAE;AAJG,aAAD,CAAd,CADgC,CAOhC;;AACA,kBAAI,CAAC9B,GAAL,GAAW,EAAX;AACF;;AACA,gBAAI,CAACU,mBAAL;AACF;AACD,OA1BH,EA0BKqB,KA1BL,CA0BW,eAAI,EAAK;AAChBC,eAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,OA5BH;AA6BF;AA7CO,GAZI;AA2DbC,SA3Da,qBA2DF;AACT,SAAKzB,mBAAL;AACF;AA7Da,CAAf","names":["ElNotification","name","data","hashKey","imageUrl","username","password","key","judge","methods","getFocus","e","target","parentElement","style","border","loseFocus","getVerificationCode","$http","get","res","hashkey","image_url","userLogin","$https","post","then","code","$store","commit","access","$router","push","status","title","message","type","duration","catch","console","log","error","created"],"sourceRoot":"","sources":["/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/views/oauth/Login.vue"],"sourcesContent":["<template>\n  <div id=\"main\">\n    <div class=\"title\">优购</div>\n    <div id=\"container\">\n      <div class=\"header\">\n        <span>用户登录</span>\n<!--        <a href=\"/oauth/register/\" style=\"text-decoration: none; color: #999\">注册账户</a>-->\n        <router-link to=\"/register/\">注册账户</router-link>\n      </div>\n      <div class=\"frame\">\n        <i class=\"iconfont font2\">&#xe64a;</i>\n        <input type=\"text\" placeholder=\"用户名\" autocomplete=\"off\" v-model=\"username\" @blur=\"loseFocus\" @focus=\"getFocus\"/>\n      </div>\n      <div class=\"frame\">\n        <i class=\"iconfont font2\">&#xe881;</i>\n        <input type=\"password\" placeholder=\"密码\" autocomplete=\"off\" v-model=\"password\" @focus=\"getFocus\" @blur=\"loseFocus\"/>\n      </div>\n      <div class=\"verification\">\n        <span class=\"frame\" style=\"width: 166px; display: flex\">\n          <i class=\"iconfont font2\">&#xe64d;</i>\n          <input type=\"text\" placeholder=\"验证码\" autocomplete=\"off\" v-model=\"key\" @focus=\"getFocus\" @blur=\"loseFocus\"/>\n          <input v-model=\"hashKey\" type=\"hidden\" id=\"id_captcha_0\"/>\n        </span>\n        <img :src=\"imageUrl\" alt=\"\" id=\"verification\" @click=\"getVerificationCode\"/>\n      </div>\n      <div class=\"password\">\n        <label for=\"memory\" style=\"display: flex; align-items: center\">\n          <input type=\"checkbox\" id=\"memory\" style=\"margin-right: 5px\"/>\n          记住密码\n        </label>\n        <a href=\"javascript:\" style=\"text-decoration: none; color: #999\">忘记密码？</a>\n      </div>\n      <button plain @click=\"userLogin\" class=\"login\"> 登 录 </button>\n      <div style=\"color: #666;font: 14px Arial, Helvetica, sans-serif;margin-top: 15px;text-align: left;\">\n        使用合作网站账号登录\n      </div>\n      <ul id=\"extend\">\n        <li class=\"iconfont font\">&#xe882;</li>\n        <li class=\"iconfont font\">&#xe65a;</li>\n        <li class=\"iconfont font\">&#xe600;</li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ElNotification } from 'element-plus'\nexport default {\n  name: 'login',\n  data () {\n    return {\n      hashKey: '', // 加密验证码\n      imageUrl: '', // 验证码图片\n      username: '', // 用户名\n      password: '', // 密码\n      key: '', // 用户提交的验证码\n      judge: false\n    }\n  },\n  methods: {\n    // 输入框得到光标\n    getFocus (e) {\n      e.target.parentElement.style.border = '1px solid #457294'\n    },\n    loseFocus (e) {\n      e.target.parentElement.style.border = '1px solid #457294'\n    },\n    // 验证码\n    async getVerificationCode () {\n      const { data: res } = await this.$http.get('oauth/refresh_captcha/')\n      this.hashKey = res.hashkey\n      this.imageUrl = 'http://127.0.0.1:8000' + res.image_url\n    },\n    // 用户登录\n    userLogin () {\n      this.$https.post('oauth/login/',\n        { username: this.username, password: this.password, key: this.key, hashKey: this.hashKey })\n        .then(res => {\n          if (res.data.code !== 404) {\n            this.$store.commit('mSetTokenInfo', res.data.access)\n            this.$router.push('/home')\n          } else {\n            if (res.data.status === 0) {\n              ElNotification({\n                title: '登录失败',\n                message: '密码与账号不符',\n                type: 'error',\n                duration: 2000\n              })\n            } else if (res.data.status === 1) {\n              ElNotification({\n                title: '登录失败',\n                message: '验证码错误',\n                type: 'error',\n                duration: 2000\n              })\n              // 清空验证码输入栏\n              this.key = ''\n            }\n            this.getVerificationCode()\n          }\n        }).catch(error => {\n          console.log(error)\n        })\n    }\n  },\n  created () {\n    this.getVerificationCode()\n  }\n\n}\n</script>\n\n<style scoped lang=\"less\">\n#main {\n  width: 100%;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  overflow: hidden;\n  background-image: url('../../assets/backImage/test.jpeg');\n  .title {\n    height: 88px;\n    margin: 0 auto;\n    text-align: left;\n    line-height: 88px;\n    padding-left: 50px;\n    font-size: 40px;\n    color: white;\n    border-bottom: 1px solid white;\n  }\n\n  #container {\n    width: 328px;\n    height: 405px;\n    display: flex;\n    flex-direction: column;\n    padding: 35px 40px;\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1), 0 3px 10px rgba(0, 0, 0, 0.07);\n    border-radius: 5px;\n    background-color: rgba(255, 255, 255, .6);\n    margin: 120px auto 100px;\n    box-sizing: content-box;\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-end;\n      color: #3c3c3c;\n      font-size: 25px;\n      font-weight: 700;\n      a {\n        text-decoration: none;\n        font-size: 14px;\n        font-weight: 400;\n        color: #3c3c3c;\n        &:hover {\n          color: red;\n        }\n      }\n    }\n    .frame {\n      border: 1px solid #457294;\n      width: 325px;\n      margin-top: 15px;\n      display: flex;\n      align-items: center;\n      i {\n        display: inline-block;\n        width: 50px;\n        height: 45px;\n        text-align: center;\n        line-height: 40px;\n      }\n    }\n    input {\n      width: 233px;\n      height: 40px;\n      border: 0;\n      outline: none;\n      font-size: 16px;\n      font-weight: 600;\n      font-family: 'Microsoft YaHei';\n      color: #333;\n      background-color: rgba(255, 255, 255, 0);\n    }\n    .verification {\n      display: flex;\n      align-items: flex-end;\n      justify-content: space-between;\n      input {\n        width: 100px;\n        background-color: rgba(255, 255, 255, 0);\n      }\n    }\n    .password {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      color: #999;\n      font: 12px Arial, Helvetica, sans-serif;\n      font-weight: 500;\n      input {\n        width: 15px;\n        vertical-align: middle;\n      }\n    }\n    .login {\n      width: 100%;\n      height: 45px;\n      background-color: #ff3d3c;\n      border: 0;\n      border-radius: 5px;\n      font-size: 16px;\n      color: #fff;\n      box-sizing: content-box;\n    }\n    #extend {\n      display: flex;\n      justify-content: flex-start;\n      list-style-type: none;\n      margin-top: 10px;\n      padding: 0;\n      li {\n        width: 35px;\n        height: 35px;\n        background-color: #b4b4b4;\n        text-align: center;\n        line-height: 35px;\n        border-radius: 5px;\n        margin-right: 15px;\n        cursor: pointer;\n        border: 1px solid #b4b4b4;\n      }\n      li:hover {\n        color: #11264C;\n        background: #fff;\n        border: 1px solid #b4b4b4;\n      }\n    }\n  }\n}\n// 阿里字体属性\n.font {\n  font-size: 24px;\n  color: #fff;\n}\n.font2 {\n  color: #b5b5b5;\n  font-size: 24px;\n}\n</style>\n"]}]}