{"remainingRequest":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/babel-loader/lib/index.js!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/search/CommodityDisplay.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/search/CommodityDisplay.vue","mtime":1656155019524},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/babel.config.js","mtime":1650971271303},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js","mtime":1650971228569},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/babel-loader/lib/index.js","mtime":1650971231053},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/cache-loader/dist/cjs.js","mtime":1650971228569},{"path":"/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/node_modules/vue-loader-v16/dist/index.js","mtime":1650971226130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95dWp1bnhpb25nL0Rlc2t0b3Avc2hvcEZyb250RW5kL3Nob3BjYXJ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgZW1pdHRlciBmcm9tICdAL3V0aWxzL2V2ZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb21tb2RpdHlEaXNwbGF5JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG90YWw6IDMwLAogICAgICBpbmRleDogMSwKICAgICAgc2hvcHM6ICcnLAogICAgICBsb2FkaW5nOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hvaWNlOiBmdW5jdGlvbiBjaG9pY2UoaWQpIHsKICAgICAgdmFyIG5ld3BhZ2UgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgcGF0aDogJy9kZXRhaWwnLAogICAgICAgIC8vIOi3s+i9rOeahOmhtemdoui3r+eUsQogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAvLyDopoHkvKDnmoTlj4LmlbAKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHdpbmRvdy5vcGVuKG5ld3BhZ2UuaHJlZiwgJ19ibGFuaycpOwogICAgfSwKICAgIFN3aXRjaFBhZ2VzOiBmdW5jdGlvbiBTd2l0Y2hQYWdlcyhpbmRleCkgewogICAgICB0aGlzLmluZGV4ID0gaW5kZXg7IC8vIHRoaXMuZ2V0U2VhcmNoU2hvcCgpCgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9zZWFyY2gnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBzZWFyY2g6IHRoaXMuJHJvdXRlLnF1ZXJ5LnNlYXJjaCwKICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgIGJyYW5kOiB0aGlzLiRyb3V0ZS5xdWVyeS5icmFuZCwKICAgICAgICAgIHJ1bGU6IHRoaXMuJHJvdXRlLnF1ZXJ5LnJ1bGUsCiAgICAgICAgICBwcmljZTogdGhpcy4kcm91dGUucXVlcnkucHJpY2UsCiAgICAgICAgICBzYWxlczogdGhpcy4kcm91dGUucXVlcnkuc2FsZXMsCiAgICAgICAgICBtaW5fcHJpY2U6IHRoaXMuJHJvdXRlLnF1ZXJ5Lm1pbl9wcmljZSwKICAgICAgICAgIG1heF9wcmljZTogdGhpcy4kcm91dGUucXVlcnkubWF4X3ByaWNlCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRTZWFyY2hTaG9wOiBmdW5jdGlvbiBnZXRTZWFyY2hTaG9wKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzJCRodHRwJHBvLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAucG9zdCgnc3RvcmUvc2VhcmNoLycsIHsKICAgICAgICAgICAgICAgICAgc2VhcmNoOiBfdGhpcy4kcm91dGUucXVlcnkuc2VhcmNoLAogICAgICAgICAgICAgICAgICBpbmRleDogX3RoaXMuJHJvdXRlLnF1ZXJ5LmluZGV4LAogICAgICAgICAgICAgICAgICBicmFuZDogX3RoaXMuJHJvdXRlLnF1ZXJ5LmJyYW5kLAogICAgICAgICAgICAgICAgICBhaW06IHBhcnNlSW50KF90aGlzLiRyb3V0ZS5xdWVyeS5ydWxlKSwKICAgICAgICAgICAgICAgICAgcHJpY2U6IHBhcnNlSW50KF90aGlzLiRyb3V0ZS5xdWVyeS5wcmljZSksCiAgICAgICAgICAgICAgICAgIHNhbGVzOiBwYXJzZUludChfdGhpcy4kcm91dGUucXVlcnkuc2FsZXMpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzJCRodHRwJHBvID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpcyQkaHR0cCRwby5kYXRhOwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnZXJyJywgewogICAgICAgICAgICAgICAgICAgIGFpbTogMQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvcHMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWwgPSByZXMubnVtYmVyOwogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyDov5Tlm57plJnor6/kv6Hmga8KICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdlcnInLCB7CiAgICAgICAgICAgICAgICAgICAgYWltOiAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZS5xdWVyeS5pbmRleCc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWwsIG9sZFZhbCkgewogICAgICAgIHRoaXMuaW5kZXggPSBwYXJzZUludChuZXdWYWwpOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICAnJHJvdXRlLnF1ZXJ5JzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgdGhpcy5nZXRTZWFyY2hTaG9wKCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFNlYXJjaFNob3AoKTsKICB9Cn07"},{"version":3,"mappings":"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","names":["emitter","name","data","total","index","shops","loading","methods","choice","id","newpage","$router","resolve","path","query","window","open","href","SwitchPages","push","search","$route","brand","rule","price","sales","min_price","max_price","getSearchShop","$http","post","aim","parseInt","res","code","emit","number","watch","handler","newVal","oldVal","immediate","created"],"sourceRoot":"","sources":["/Users/yujunxiong/Desktop/shopFrontEnd/shopcart/src/components/search/CommodityDisplay.vue"],"sourcesContent":["<template>\n  <el-space direction=\"vertical\" alignment=\"flex-start\">\n    <el-skeleton style=\"width: 1190px;margin: 0 auto;\" :loading=\"loading\" animated :count=\"1\">\n      <template #template>\n        <div class=\"commodity-display\">\n          <div style=\"width: 225px;height: 325px;margin: 0 6px 15px 7px;\" v-for=\"i in 50\">\n            <el-skeleton-item variant=\"image\" style=\"width: 222px; height: 215px\" />\n            <el-skeleton-item variant=\"h1\" style=\"width: 100%;height: 34px;margin-top: 7px;\" />\n            <el-skeleton-item variant=\"h1\" style=\"width: 100%;height: 47px;\" />\n          </div>\n        </div>\n      </template>\n      <template #default>\n        <div class=\"main\">\n          <div class=\"commodity-display\">\n            <div class=\"shop\" v-for=\"item in shops\" :key=\"item.id\" @click=\"choice(item.id)\">\n              <img :src=\"item.goods_image\" alt=\"\">\n              <span class=\"price\"><i>特卖价</i><span>¥{{item.min_price}}.00</span></span>\n              <span class=\"introduce\">{{item.title}}</span>\n            </div>\n          </div>\n          <el-pagination background layout=\"prev, pager, next\" :page-count=\"total\" @current-change=\"SwitchPages\" :current-page=\"index\" :hide-on-single-page=\"true\"/>\n        </div>\n      </template>\n    </el-skeleton>\n  </el-space>\n</template>\n\n<script>\n\nimport emitter from '@/utils/event'\n\nexport default {\n  name: 'CommodityDisplay',\n  data () {\n    return {\n      total: 30,\n      index: 1,\n      shops: '',\n      loading: true\n    }\n  },\n  methods: {\n    choice (id) {\n      const newpage = this.$router.resolve({\n        path: '/detail', // 跳转的页面路由\n        query: { // 要传的参数\n          id: id\n        }\n      })\n      window.open(newpage.href, '_blank')\n    },\n    SwitchPages (index) {\n      this.index = index\n      // this.getSearchShop()\n      this.$router.push({\n        path: '/search',\n        query: {\n          search: this.$route.query.search,\n          index: index,\n          brand: this.$route.query.brand,\n          rule: this.$route.query.rule,\n          price: this.$route.query.price,\n          sales: this.$route.query.sales,\n          min_price: this.$route.query.min_price,\n          max_price: this.$route.query.max_price\n        }\n      })\n    },\n    async getSearchShop () {\n      this.loading = true\n      const { data: res } = await this.$http.post('store/search/',\n        {\n          search: this.$route.query.search,\n          index: this.$route.query.index,\n          brand: this.$route.query.brand,\n          aim: parseInt(this.$route.query.rule),\n          price: parseInt(this.$route.query.price),\n          sales: parseInt(this.$route.query.sales)\n        }\n      )\n      if (res.code === 200) {\n        emitter.emit('err', { aim: 1 })\n        this.shops = res.data\n        this.total = res.number\n        this.loading = false\n      } else {\n        // 返回错误信息\n        emitter.emit('err', { aim: 0 })\n      }\n    }\n  },\n  watch: {\n    '$route.query.index': {\n      handler (newVal, oldVal) {\n        this.index = parseInt(newVal)\n      },\n      immediate: true\n    },\n    '$route.query': {\n      handler (newVal, oldVal) {\n        this.getSearchShop()\n      }\n    }\n  },\n  created () {\n    this.getSearchShop()\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.main {\n  width: 1190px;\n  margin: 0 auto;\n}\n.commodity-display {\n  width: 1190px;\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  .shop {\n    width: 225px;\n    height: 325px;\n    border: 1px solid #E7E7E7;\n    cursor: pointer;\n    border-radius: 5px;\n    overflow: hidden;\n    margin: 0 6px 15px 7px;\n    &:hover {\n      border: 1px solid #409EFF;\n    }\n    img {\n      width: 222px;\n      height: 215px;\n    }\n    .price {\n      display: flex;\n      align-items: center;\n      padding-left: 7px;\n      margin-top: 7px;\n      i {\n        font-style: normal;\n        color: #fff;\n        display: inline-block;\n        background-image: linear-gradient(270deg,#e456ff 0,#ff31a3 100%);\n        font-size: 12px;\n        padding: 2px 7px;\n        border-radius: 15px;\n        margin-right: 5px;\n      }\n      span {\n        color: #333;\n        font-weight: 700;\n        font-size: 23px;\n      }\n    }\n    .introduce {\n      margin-top: 11px;\n      font-size: 13px;\n      text-align: left;\n      padding: 0 7px;\n      overflow: hidden;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      text-overflow: ellipsis;\n      height: 36px;\n    }\n  }\n}\n:deep(.el-pagination) {\n  margin: 45px auto 25px;\n  justify-content: center;\n}\n</style>\n"]}]}